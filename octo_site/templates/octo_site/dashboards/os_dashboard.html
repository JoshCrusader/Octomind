{% include 'octo_site/includes/header.html' %}
{% load staticfiles %}
	<script src="{% static 'octo_site/res/Chart.js/Chart.bundle.js' %}"></script>
	<script src="{% static 'octo_site/res/Chart.js/samples/utils.js' %}"></script>
    <script src="{% static 'octo_site/res/jquery.js' %}"></script>
    <script src="{% static 'octo_site/res/jsocket.js' %}"></script>
<!-- CONTENT --><style>
	canvas {
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}
	</style>
    <div id="content" style="padding: 10px 0 0 0; margin-left: 240px;">
    <div class="uk-container uk-container-expand">
        <div class="uk-grid uk-grid-divider uk-grid-medium uk-child-width-1-2 uk-child-width-1-4@l uk-child-width-1-5@xl" data-uk-grid>
            <div>
                <span class="uk-text-small"><span data-uk-icon="icon:hashtag" class="uk-margin-small-right uk-text-primary"></span>Total Games Played Today</span>
                <h1 class="uk-heading-primary uk-margin-remove uk-text-primary" id="errors">12.00</h1>
                <div class="uk-text-small">
                    <span class="uk-text-success" data-uk-icon="icon: triangle-up"> 19%</span> more than last week.
                </div>
            </div>
            <div>
                <span class="uk-text-small"><span data-uk-icon="icon:warning" class="uk-margin-small-right uk-text-danger"></span>Errors Today</span>
                <h1 class="uk-heading-primary uk-margin-remove  uk-text-primary" id="errors">2.134</h1>
                <div class="uk-text-small">
                    <span class="uk-text-success" data-uk-icon="icon: triangle-up">15%</span> more than last week.
                </div>
            </div>
            <div>

                <span class="uk-text-small"><span data-uk-icon="icon:question" class="uk-margin-small-right uk-text-warning"></span>Warnings Today</span>
                <h1 class="uk-heading-primary uk-margin-remove uk-text-primary" id="warnings">8.490</h1>
                <div class="uk-text-small">
                    <span class="uk-text-warning" data-uk-icon="icon: triangle-down">-15%</span> less than last week.
                </div>

            </div>
            <div>
                <span class="uk-text-small"><span data-uk-icon="icon:clock" class="uk-margin-small-right uk-text-primary"></span>Retention Rate/Week</span>
                <h1 class="uk-heading-primary uk-margin-remove uk-text-primary">9.53<small class="uk-text-small">mins</small></h1>
                <div class="uk-text-small">
                    <span class="uk-text-danger" data-uk-icon="icon: triangle-down"> -23%</span> less than last week.
                </div>
            </div>
        </div>
        <hr>
        <div class="uk-grid-small" data-uk-grid>
            <!-- panel -->
            <div  class="uk-width-1-2">
                <div style="margin-bottom: 2vh;" class="uk-width-1-1@s">
                <div class="uk-card uk-card-default uk-card-small uk-card-hover">
                    <div class="uk-card-header">
                        <div class="uk-grid uk-grid-small">
                            <div class="uk-width-auto"><h4 class="uk-margin-remove-bottom"><span data-uk-icon="icon:history" class="uk-margin-small-right uk-text-primary"></span> Century City Mall Branch </h4></div>
                        </div>
                    </div>
                    <div class="uk-card-body">
                        <div class="uk-overflow-auto">
                            <div id="container" style="width: 100%;">
                                <canvas id="gamesChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                <div class="uk-width-1-1@s ">
                    <div class="uk-card uk-card-default uk-card-small uk-card-hover">
                        <div class="uk-card-header">
                            <div class="uk-grid uk-grid-small">
                                <div class="uk-width-auto"><h4 class="uk-margin-remove-bottom"><span data-uk-icon="icon:link" class="uk-margin-small-right uk-text-primary"></span> Anomalies Detected/Room</h4></div>
                            </div>
                        </div>
                        <div class="uk-card-body" style="height: 40vh;overflow: scroll">

                        </div>
                    </div>
                </div>
            </div>

            <div style="margin-bottom: 2vh" class="uk-width-1-4@s ">
                <div class="uk-card uk-card-default uk-card-small uk-card-hover">
                    <div class="uk-card-header">
                        <div class="uk-grid uk-grid-small">
                            <div class="uk-width-auto"><h4 class="uk-margin-remove-bottom"><span data-uk-icon="icon:link" class="uk-margin-small-right uk-text-primary"></span> Games Summary</h4></div>
                        </div>
                    </div>
                    <div class="uk-card-body" style="height: 40vh;overflow: scroll">
                        <div id="container" style="width: 100%;height: 100%">
                                <canvas id="anomalyChart"></canvas>
                            </div>
                    </div>
                </div>
            </div>
            <div class="uk-width-1-4@s ">
                <div class="uk-card uk-card-default uk-card-small uk-card-hover">
                    <div class="uk-card-header">
                        <div class="uk-grid uk-grid-small">
                            <div class="uk-width-auto"><h4 class="uk-margin-remove-bottom"><span data-uk-icon="icon:lifesaver" class="uk-margin-small-right uk-text-primary"></span> Anomalies Detected</h4></div>
                        </div>
                    </div>
                    <div class="uk-card-body" style="height: 40vh;overflow: scroll">
                    <table class="uk-table uk-table-hover uk-table-divider uk-table-middle" >
                        <thead>
                            <tr>
                                <th>Game</th>
                                <th>Ago</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for c in clues %}
                            <tr>
                                <td>{{ c.game.match_id }}</td>
                                <td>time ago</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    </div>
                </div>
            </div>

        </div>
        <footer class="uk-section uk-section-small uk-text-center">
            <hr>
            <a href="https://github.com/zzseba78/Kick-Off">Created by KickOff</a> | Built with <a href="http://getuikit.com" title="Visit UIkit 3 site" target="_blank" data-uk-tooltip><span data-uk-icon="uikit"></span></a>
        </footer>
    </div>
</div>
	<script>

		window.onload = function() {
			var gamesCtx = document.getElementById('gamesChart').getContext('2d');
			var anomalyCtx = document.getElementById('anomalyChart').getContext('2d');
			window.myHorizontalBar = new Chart(gamesCtx, {
				type: 'bar',
                  data: {
                    labels: ['Debbys Doll', 'Alien Assault', 'Aztec Escape', 'Patricks Rock'],
                    datasets: [{
                      label: "Games",
                      backgroundColor: ["#39f", "#895df6", "#3cba9f","#3cba9f"],
                      data: [11, 2, 3, 0]
                    }]
                  },

                  options: {
                    maintainAspectRatio: false,
                    responsiveAnimationDuration: 500,
                    legend: {
                      display: false
                    },
                    animation: {
                      duration: 2000
                    },
                    title: {
                      display: true,
                      text: 'Number of Games Played'
                    }
                  }
			});
			window.myAnomalyBar = new Chart(anomalyCtx, {
              type: 'horizontalBar',
              data: sensorChartData,
              options: {
                maintainAspectRatio: false,
                responsiveAnimationDuration: 500,
                legend: {
                  display: false
                },
                animation: {
                  duration: 2000
                },
                title: {
                  display: true,
                  text: 'Predicted activity in 2020'
                }
              }
            });

		};
		var color = Chart.helpers.color;
		var horizontalBarChartData = {
			labels: ['Debbys Doll', 'Alien Assault', 'Aztec Escape', 'Patricks Rock'],
			datasets: [{
				label: 'Dataset 1',
				backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
				borderColor: window.chartColors.red,
				borderWidth: 20,
				data: [
					8,
					0,
					0,
					0,
				]
			}, {
				label: 'Dataset 2',
				backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
				borderColor: window.chartColors.blue,
				data: [
					0,
					12,
					0,
					0,
				]
			} ,{
				label: 'Dataset 2',
				backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
				borderColor: window.chartColors.blue,
				data: [
					0,
					0,
					3,
					0,
				]
			}, {
				label: 'Dataset 2',
				backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
				borderColor: window.chartColors.blue,
				data: [
					0,
					0,
					0,
					2,
				]
			}]

		};
		var sensorChartData = {
              labels: ['Debbys Doll', 'Alien Assault', 'Aztec Escape', 'Patricks Rock'],
            datasets: [{
              label: "Count of anomalies per chart",
              backgroundColor: ["#39f", "#895df6", "#3cba9f","#3cba9f"],
              data: [11, 2, 3, 0]
            }]
		};
</script>
